<!DOCTYPE html>
<html lang="en">
<<<<<<< HEAD
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/static/css/chat.css">
  <script src="https://kit.fontawesome.com/06f50b721d.js" crossorigin="anonymous"></script>
  <title>Chat Page</title>
</head>
<body>
  <div class="navbar">

  </div>
  
    <div class="work-area">
      <div class="sidebar">
        
        <div class="sidebar-mag">
          <div class="profile">
            <div class="prfl">
              <img src="/static/images/avatar.jpg" alt="">
              <span></span>
              <p>Fred Swaniker</p>
            </div>
            <i class="fa-solid fa-ellipsis-vertical"></i>
          </div>
          <div class="search">
            <input type="text" placeholder="Search..." id="">
            <i class="fa-solid fas fa-search"></i>
          </div>
          <div class="cards">
            <div class="card-1">
              <div class="chat">
                <img src="/static/images/avatar.jpg" alt="">
                <span></span>
                <div class="content">
                  <p>Fred Swaniker</p>
                  <p>Hello how are you..</p>
                </div>
              </div>
            </div> 
            <div class="card-1">
              <div class="chat">
                <img src="/static/images/avatar.jpg" alt="">
                <span></span>
                <div class="content">
                  <p>Fred Swaniker</p>
                  <p>Hello how are you..</p>
                </div>
              </div> 
            </div> 
            <div class="card-1">
              <div class="chat">
                <img src="/static/images/avatar.jpg" alt="">
                <span></span>
                <div class="content">
                  <p>Fred Swaniker</p>
                  <p>Hello how are you..</p>
                </div>
              </div>
            </div> 
            <div class="card-1">
              <div class="chat">
                <img src="/static/images/avatar.jpg" alt="">
                <span></span>
                <div class="content">
                  <p>Fred Swaniker</p>
                  <p>Hello how are you..</p>
                </div>
              </div>
            </div> 
            <div class="card-1">
              <div class="chat">
                <img src="/static/images/avatar.jpg" alt="">
                <span></span>
                <div class="content">
                  <p>Fred Swaniker</p>
                  <p>Hello how are you..</p>
                <div class="content"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="chat-section">
        <div class="name-tag">
        </div>
        <div class="chat-area">
        </div>
        <div class="text-area">
          <a><i class="fa-solid fa-face-laugh-wink"></i></a>
          <a><i class="fa-regular fa-images"></i></a>
          <a href="" id="rotate"><img src="/static/images/send (1).png"></a>
          <input type="text" name="text" placeholder="Type your message" id="">
        </div>
      </div>
    </div>
</body>
=======
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CHATPY</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../static/css/chat.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div class="home">
      <div class="container">
        <div class="chatContainer">
          <div class="chatCards">
            <div class="chatProfile">
              <img src="../static/images/account.png" alt="User Avatar" />
              <p>online</p>
            </div>

            <form class="form" id="search-form" method="post" action="/search">
              <input
                type="text"
                placeholder="Search users..."
                name="query"
                id="query"
              />
            </form>

            <div class="resultCards">
              <!-- {% for result in results %} -->
              <div id="container">
                <img src="/static/images/user .png" />
                <!-- {{ result }} <br /> -->
                You've subscribed to
              </div>
              <!-- {% endfor %} -->
            </div>

            <a href="/">
              <button type="submit" class="logout">Logout</button></a
            >
          </div>

          <div class="chatArea">
            <!-- {% for result in results %} -->
            <div class="chatUser"><div id="container"></div></div>
            <!-- {%endfor%} -->

            <div class="chatMessaging">
              <div id="Outmessages"></div>

              <!-- <div id="Inmessages"></div> -->
            </div>

            <form id="form">
              <input
                id="messageInput"
                type="text"
                name="message"
                placeholder="Enter your message..."
              />
              <button type="submit" id="btn">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#btn").click(function (e) {
          var message = $('input[name="message"]').val();
          $('input[name="message"]').val("");
          e.preventDefault();
          $.ajax({
            type: "POST",
            url: "/update_content",
            data: { message: message },
            success: function (data) {
              var outputElement = document.createElement("p");
              outputElement.id = "output";
              outputElement.textContent = data.new_content;

              outputElement.style.backgroundColor = "#3b3b65";
              outputElement.style.width = "max-content";
              outputElement.style.padding = "8px";
              outputElement.style.borderRadius = "10px 10px 0px 10px";

              document.getElementById("Outmessages").appendChild(outputElement);
            },
            error: function (error) {
              console.error("Error:", error);
            },
          });
        });
      });

      $(document).ready(function () {
        $("form#search-form").submit(function (e) {
           e.preventDefault(); // Prevent the default form submission behavior

          var message = $("input[name='query']").val();
          $("input[name='query']").val("");

          $.ajax({
            type: "POST",
            url: "/search",
            data: { message: message },
            success: function (data) {
              var outputElement = document.createElement("p");
              outputElement.id = "data";
              outputElement.textContent = data.results;

                console.log(data.results)

              document.getElementById("container").appendChild(outputElement);
            },
            error: function (error) {
              console.error("Error:", error);
            },
          });
        });
      });
    </script>
  </body>
>>>>>>> 87027ac0c701dfa3080db2990ef1963a03ee8476
</html>
